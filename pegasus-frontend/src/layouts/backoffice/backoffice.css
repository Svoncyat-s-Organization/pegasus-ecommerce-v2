/* ==========================================================================
   BACKOFFICE SIDEBAR CUSTOM STYLES
   Colores:
   - Primario (Fuerte): #2f54eb
   - Primario (Claro/Fondo): #e6f0ff (Equivalente visual al azul transparente)
   - Texto Contraste: #ffffff
   ========================================================================== */

/* --------------------------------------------------------------------------
   1. NIVEL RAÍZ (Módulos sin hijos)
   -------------------------------------------------------------------------- */

/* Cuando un item raíz está SELECCIONADO: Fondo Azul Fuerte + Texto Blanco */
.custom-sidebar-menu.ant-menu-root > .ant-menu-item-selected {
  background-color: #2f54eb !important;
  color: #ffffff !important;
}

/* El icono del item raíz seleccionado también blanco */
.custom-sidebar-menu.ant-menu-root > .ant-menu-item-selected .anticon {
  color: #ffffff !important;
}

/* El borde derecho azul que pone AntD por defecto, lo quitamos o pintamos igual */
.custom-sidebar-menu.ant-menu-root > .ant-menu-item-selected::after {
  border-right: none !important;
}


/* --------------------------------------------------------------------------
   2. NIVEL PADRE (Módulos con hijos)
   -------------------------------------------------------------------------- */

/* CASO A: Padre ABIERTO pero SIN hijos seleccionados -> Fondo Claro + Texto Azul */
.custom-sidebar-menu .ant-menu-submenu-open:not(.ant-menu-submenu-selected) > .ant-menu-submenu-title {
  background-color: #e6f0ff !important;
  color: #2f54eb !important;
}
.custom-sidebar-menu .ant-menu-submenu-open:not(.ant-menu-submenu-selected) > .ant-menu-submenu-title .anticon,
.custom-sidebar-menu .ant-menu-submenu-open:not(.ant-menu-submenu-selected) > .ant-menu-submenu-title .ant-menu-submenu-arrow {
  color: #2f54eb !important;
}


/* CASO B: Padre con un HIJO ACTIVO -> Fondo Azul Fuerte + Texto Blanco */
/* Nota: AntD le pone la clase .ant-menu-submenu-selected al padre cuando un hijo está activo */
.custom-sidebar-menu .ant-menu-submenu-selected > .ant-menu-submenu-title {
  background-color: #2f54eb !important;
  color: #ffffff !important;
}

/* Iconos y flechitas del padre en blanco cuando está activo */
.custom-sidebar-menu .ant-menu-submenu-selected > .ant-menu-submenu-title .anticon,
.custom-sidebar-menu .ant-menu-submenu-selected > .ant-menu-submenu-title .ant-menu-submenu-arrow {
  color: #ffffff !important;
}


/* --------------------------------------------------------------------------
   3. NIVEL HIJO (Submódulos)
   -------------------------------------------------------------------------- */

/* Submódulo SELECCIONADO -> Fondo Claro + Texto Azul Fuerte (Lo que te fallaba) */
/* Usamos .ant-menu-sub para asegurar que solo aplique a los hijos */
.custom-sidebar-menu .ant-menu-sub .ant-menu-item-selected {
  background-color: #e6f0ff !important;
  color: #2f54eb !important;
}

/* Aseguramos que el titulo del link interno tenga el color correcto */
.custom-sidebar-menu .ant-menu-sub .ant-menu-item-selected .ant-menu-title-content {
    color: #2f54eb !important;
}

/* Si el submódulo tiene icono, también azul */
.custom-sidebar-menu .ant-menu-sub .ant-menu-item-selected .anticon {
  color: #2f54eb !important;
}

/* Hover en los hijos no seleccionados (para que se sienta reactivo) */
.custom-sidebar-menu .ant-menu-sub .ant-menu-item:not(.ant-menu-item-selected):hover {
  background-color: transparent !important;
  color: #2f54eb !important;
}

/* --------------------------------------------------------------------------
   4. MODO OSCURO - Ajustes de colores
   -------------------------------------------------------------------------- */

/* Fondo del menú en modo oscuro - cambiar azul oscuro por gris oscuro */
.ant-menu-dark.custom-sidebar-menu,
.ant-menu-dark.custom-sidebar-menu .ant-menu-sub {
  background: #1f1f1f !important;
}

/* Items del menú sin seleccionar en modo oscuro */
.ant-menu-dark.custom-sidebar-menu .ant-menu-item:not(.ant-menu-item-selected),
.ant-menu-dark.custom-sidebar-menu .ant-menu-submenu-title {
  background-color: transparent !important;
}

/* Sobrescribir el azul transparente en modo oscuro para mejor contraste */
.ant-menu-dark.custom-sidebar-menu .ant-menu-submenu-open:not(.ant-menu-submenu-selected) > .ant-menu-submenu-title {
  background-color: rgba(47, 84, 235, 0.2) !important;
}

.ant-menu-dark.custom-sidebar-menu .ant-menu-sub .ant-menu-item-selected {
  background-color: rgba(47, 84, 235, 0.2) !important;
}

/* Fondo azul primario sólido en modo oscuro debe mantenerse igual */
.ant-menu-dark.custom-sidebar-menu.ant-menu-root > .ant-menu-item-selected {
  background-color: #2f54eb !important;
  color: #ffffff !important;
}

.ant-menu-dark.custom-sidebar-menu .ant-menu-submenu-selected > .ant-menu-submenu-title {
  background-color: #2f54eb !important;
  color: #ffffff !important;
}

/* Asegurar que el texto del submódulo seleccionado en dark mode sea azul primario */
.ant-menu-dark.custom-sidebar-menu .ant-menu-sub .ant-menu-item-selected .ant-menu-title-content {
  color: #69b1ff !important; /* Un azul más claro para mejor contraste en dark mode */
}

/* Iconos en modo oscuro */
.ant-menu-dark.custom-sidebar-menu .ant-menu-sub .ant-menu-item-selected .anticon {
  color: #69b1ff !important;
}

/* Botón de colapsar sidebar en modo oscuro */
.ant-layout-sider-dark .ant-layout-sider-trigger {
  background: #1f1f1f !important;
  border-right: 1px solid #303030 !important;
}
